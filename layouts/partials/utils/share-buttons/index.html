<div class="share-buttons">    
    {{ $all := false }}
    {{ $enabled := or (.Scratch.Get "enabled") slice }}

    {{ if eq (len $enabled) 0 }}
    {{ $all = true }}
    {{ end }}

    {{ $smButtons := slice "email" "facebook-messenger" "facebook" "hatena" "instapaper" "line" "linkedin" "live-journal" "mail-ru" "odnoklassniki" "pinterest" "pocket" "reddit" "telegram" "tumblr" "twitter" "viber" "vk" "weibo" "whatsapp" "workplace" }}   
    
    {{ $context := . }}
    {{ range $smb := $smButtons }}
        {{ if or $all ( in $enabled $smb ) }}
            {{ partial (printf "utils/share-buttons/%s.html" $smb ) $context }}
        {{ end }}
    {{ end }}
</div>